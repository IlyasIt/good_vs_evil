(this.webpackJsonpgood_vs_evil=this.webpackJsonpgood_vs_evil||[]).push([[0],{121:function(e,t,a){e.exports=a.p+"static/media/VS.8eb9fd93.png"},122:function(e,t,a){e.exports=a.p+"static/media/clicking.e36aaf81.png"},193:function(e,t,a){e.exports=a(311)},305:function(e,t){},311:function(e,t,a){"use strict";a.r(t);a(194),a(220),a(222),a(223),a(225),a(226),a(227),a(228),a(229),a(230),a(231),a(232),a(234),a(235),a(236),a(237),a(238),a(239),a(240),a(241),a(242),a(243),a(245),a(246),a(247),a(248),a(249),a(250),a(251),a(252),a(253),a(254),a(255),a(256),a(257),a(258),a(259),a(260),a(261),a(262);var n=a(0),c=a.n(n),l=a(110),o=a.n(l),r=a(12),s=a.n(r),i=a(24),m=a(3),u=a(128),d=a.n(u),f=(a(280),a(123)),E=a.n(f),b=a(49),p=a.n(b),g=a(121),h=a.n(g),k=a(122),S=a.n(k),v=a(70),T=a.n(v),j=(a(40),function(e){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){var a=t.current.getContext("2d"),n=new Image;n.src=h.a,n.onload=function(){a.drawImage(n,0,0),a.font="48px Source Code Pro",a.fillStyle="white",a.fillText(e.blueScore,165-13*e.blueScore.toString().length,170),a.fillText(e.redScore,635-13*e.redScore.toString().length,170)}}),[e.redScore,e.blueScore]),c.a.createElement(m.g,{id:"Home"},c.a.createElement(m.h,{transparent:!0},c.a.createElement("img",{className:"iconHeader",src:T.a,alt:""})),c.a.createElement(m.d,{header:c.a.createElement(m.e,{mode:"secondary"},c.a.createElement("div",{className:"customText"},"\u0421\u0447\u0435\u0442"))},c.a.createElement(m.c,null,c.a.createElement("canvas",{className:"globalCounter",ref:t,width:796,height:313}))),c.a.createElement(m.d,{header:c.a.createElement(m.e,{mode:"secondary"},c.a.createElement("div",{className:"customText"},"\u041c\u0435\u043d\u044e"))},c.a.createElement(m.c,null,c.a.createElement(m.a,{onClick:function(){return e.goToPage("Info")},className:"customButtonInfo",before:c.a.createElement(E.a,null),size:"xl",mode:"outline"},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f")),c.a.createElement(m.c,null,c.a.createElement(m.a,{onClick:function(){var e=a(96).parse(window.location.search),t={};Object.keys(e).sort().forEach((function(a){"vk_"===a.slice(0,3)&&(t[a]=e[a])})),s.a.send("VKWebAppShare",{link:"https://vk.com/app".concat(t.vk_app_id)})},className:"customButtonInfo",before:c.a.createElement(p.a,null),size:"xl",mode:"outline"},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f")),c.a.createElement(m.c,null,c.a.createElement(m.a,{onClick:function(){return e.clickButton()},className:"clickButtonMain",size:"xl",mode:"outline"},c.a.createElement("img",{className:"clicking",src:S.a,alt:""})))))}),I=a(124),O=a.n(I),y=a(125),x=a.n(y),w=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),l=a[0],o=a[1],r=Object(n.useState)(),s=Object(i.a)(r,2),u=s[0],d=s[1];Object(n.useEffect)((function(){"red"===e.colorTeam&&d("\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0437\u0430 \u0441\u0438\u043d\u0438\u0445"),"blue"===e.colorTeam&&d("\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0437\u0430 \u043a\u0440\u0430\u0441\u043d\u044b\u0445")}),[]);return c.a.createElement(m.g,{id:"Info"},c.a.createElement(m.h,{transparent:!0,left:c.a.createElement(m.i,{onClick:function(){return window.history.back()}})},c.a.createElement("span",{className:"customText"},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f")),c.a.createElement(m.d,null,c.a.createElement(m.c,null,c.a.createElement(m.a,{onClick:function(){return"red"===e.colorTeam&&(d("\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0437\u0430 \u043a\u0440\u0430\u0441\u043d\u044b\u0445"),e.selectTeam("blue")),void("blue"===e.colorTeam&&(d("\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0437\u0430 \u0441\u0438\u043d\u0438\u0445"),e.selectTeam("red")))},className:"customButtonInfo",before:c.a.createElement(p.a,null),size:"xl",mode:"outline"},u)),c.a.createElement(m.c,null,c.a.createElement(m.a,{className:"customButtonInfo",onClick:function(){return window.open("https://vk.me/redvsbluegame","_blank")},before:c.a.createElement(O.a,null),size:"xl",mode:"outline"},"\u0421\u043e\u043e\u0431\u0449\u0438\u0442\u044c \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435")),c.a.createElement(m.c,null,c.a.createElement(m.a,{onClick:function(){o(!1===l)},className:"customButtonInfo",before:c.a.createElement(x.a,null),size:"xl",mode:"tertiary"},"\u0412 \u0447\u0435\u043c \u0441\u043c\u044b\u0441\u043b \u0438\u0433\u0440\u044b?")),!0===l?c.a.createElement(m.d,{header:c.a.createElement(m.e,{className:"customText"},"\xab\u0420\u0430\u0437\u0434\u0435\u043b\u044f\u0439 \u0438 \u0432\u043b\u0430\u0441\u0442\u0432\u0443\u0439\xbb ",c.a.createElement("br",null)," \xa9 \u0424\u0438\u043b\u0438\u043f\u043f \u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438\u0439 \u2014 \u0433\u0440\u0435\u0447\u0435\u0441\u043a\u0438\u0439 ",c.a.createElement("br",null)," \u0432\u043e\u0435\u043d\u043d\u044b\u0439 \u0438 \u043f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c.")},c.a.createElement(m.f,null,c.a.createElement(m.b,{className:"customText",multiline:!0},"\u041a\u0430\u0437\u0430\u043b\u043e\u0441\u044c \u0431\u044b, \u043f\u0435\u0440\u0435\u0434 \u0432\u0430\u043c\u0438 \u043f\u0440\u043e\u0441\u0442\u043e\u0435 \u043c\u0438\u043d\u0438-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435. \u041d\u043e \u0432 \u044d\u0442\u0443 \u0438\u0433\u0440\u0443 \u0432\u043b\u043e\u0436\u0435\u043d \u043d\u0430\u043c\u043d\u043e\u0433\u043e \u0431\u043e\u043b\u044c\u0448\u0438\u0439 \u0441\u043c\u044b\u0441\u043b, \u0447\u0435\u043c \u043f\u0440\u043e\u0441\u0442\u043e \xab\u043a\u043b\u0430\u0446\u0430\u043d\u0438\u0435\xbb \u043f\u043e \u043a\u043d\u043e\u043f\u043a\u0435. \u0412\u0441\u044f \u0441\u0443\u0442\u044c \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u044d\u0442\u043e \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0443\u044e \u043f\u0430\u0440\u0440\u0430\u043b\u0435\u043b\u044c \u0441 \u043d\u044b\u043d\u0435\u0448\u043d\u0438\u043c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e\u043c \u043c\u0438\u0440\u0430. \u041c\u044b \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u0442\u0430\u043a \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u043b\u0438 \u0412\u0430\u0441 \u043d\u0430 \u043a\u0440\u0430\u0441\u043d\u044b\u0445 \u0438 \u0441\u0438\u043d\u0438\u0445, \u043f\u0440\u0438\u0434\u0443\u043c\u0430\u0432 \u0432\u044b\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u044b\u0439 \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442. \u042d\u0442\u0438\u043c \u043c\u044b \u0445\u043e\u0442\u0435\u043b\u0438 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c, \u0447\u0442\u043e \u043d\u0430 \u0417\u0435\u043c\u043b\u0435 \u043d\u0435\u0442\u0443 \u0431\u0435\u043b\u044b\u0445/\u0447\u0435\u0440\u043d\u044b\u0445, \u043c\u0443\u0441\u0443\u043b\u044c\u043c\u0430\u043d/\u043d\u0435\u043c\u0443\u0441\u0443\u043b\u044c\u043c\u0430\u043d, \u0431\u043e\u0433\u0430\u0442\u044b\u0445/\u043d\u0438\u0449\u0438\u0445. \u0412\u0441\u0435 \u0432\u043e\u0439\u043d\u044b \u0438 \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u044b \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u044e\u0442 \u043b\u0438\u0448\u044c \u0432 \u0443\u0433\u043e\u0434\u0443 \xab\u043c\u0438\u0440\u043e\u0432\u043e\u0439 \u0432\u0435\u0440\u0445\u0443\u0448\u043a\u0438\xbb, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043d\u0430\u0442\u0440\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 \u0446\u0435\u043b\u044b\u0435 \u043d\u0430\u0440\u043e\u0434\u044b \u043f\u0440\u043e\u0442\u0438\u0432 \u0434\u0440\u0443\u0433-\u0434\u0440\u0443\u0433\u0430, \u0440\u0430\u0434\u0438 \u0441\u0432\u043e\u0435\u0439 \u0432\u044b\u0433\u043e\u0434\u044b (\u0432\u0441\u0435\u0433\u043e \u043b\u0438\u0448\u044c \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0432 \u0438\u0445 \u043f\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u043c\u0443 \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u0443). \u0410 \u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u043b\u044e\u0434 \u043d\u0435 \u0432\u0438\u0434\u044f \u0432\u0441\u0435\u0433\u043e \u044d\u0442\u043e\u0433\u043e, \u0441\u043b\u0435\u043f\u043e \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f\u043c \u044d\u0442\u0438\u0445 \u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u0435\u0439 \u0438 \u043f\u043e\u0433\u0438\u0431\u0430\u0435\u0442.   "),c.a.createElement(m.b,{className:"customText",multiline:!0},"\u041d\u0430\u0434\u0435\u0435\u043c\u0441\u044f, \u0447\u0442\u043e \u044d\u0442\u0438\u043c \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u043c, \u043c\u044b \u0432\u043d\u0435\u0441\u043b\u0438 \u044f\u0441\u043d\u043e\u0441\u0442\u044c \u0432 \u0412\u0430\u0448\u0438 \u0443\u043c\u044b."))):c.a.createElement(c.a.Fragment,null)))},N=a(126),_=a.n(N),B=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),l=a[0],o=a[1];return c.a.createElement(m.g,{id:"Intro"},c.a.createElement(m.j,{icon:c.a.createElement(_.a,{fill:"#00f2fe"}),header:"Red VS Blue",action:c.a.createElement(c.a.Fragment,null,!0===l?c.a.createElement(m.c,{style:{display:"flex"}},c.a.createElement(m.a,{onClick:function(){s.a.send("VKWebAppStorageSet",{key:"hasSeenIntro",value:"true"}),e.hasSeenIntro("Home"),e.selectTeam("blue")},size:"l",className:"customButtonInfo",stretched:!0,style:{marginRight:8}},"\xa0 \u0421\u0438\u043d\u0438\u0435 \xa0"),c.a.createElement(m.a,{onClick:function(){s.a.send("VKWebAppStorageSet",{key:"hasSeenIntro",value:"true"}),e.hasSeenIntro("Home"),e.selectTeam("red")},size:"l",className:"customButtonInfo",stretched:!0},"\u041a\u0440\u0430\u0441\u043d\u044b\u0435")):c.a.createElement(m.c,null,c.a.createElement(m.a,{size:"xl",className:"customButtonInfo",onClick:function(){e.setPopoutSpin(c.a.createElement(m.k,null)),setTimeout((function(){e.setPopoutSpin(null),o(!0)}),500)}},"\u041f\u043e\u0435\u0445\u0430\u043b\u0438!"))),stretched:!0},!0===l?c.a.createElement(c.a.Fragment,null,c.a.createElement("br",null),"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0446\u0432\u0435\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u044b:"):c.a.createElement(c.a.Fragment,null,c.a.createElement("br",null),"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \xab\u0421\u0438\u043d\u0438\u0445\xbb \u0438 \xab\u041a\u0440\u0430\u0441\u043d\u044b\u0445\xbb! ",c.a.createElement("br",null),c.a.createElement("br",null)," \u041a\u043b\u0438\u043a\u0430\u0439, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u0432\u0435\u0441\u0442\u0438 \u0441\u0432\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u043a \u041f\u043e\u0431\u0435\u0434\u0435!",c.a.createElement("br",null),c.a.createElement("br",null)," \u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u0441\u044f \u0432 \u043a\u043e\u043d\u0446\u0435 \u0434\u043d\u044f!")))},C=function(e){return Object(n.useEffect)((function(){s.a.send("VKWebAppStorageGet",{keys:["hasSeenIntro22"]}).then((function(t){"true"===t.keys[0].value?e.hasSeenIntro("Home"):e.hasSeenIntro("Intro"),e.setPopoutSpin(null)}))}),[]),c.a.createElement(m.g,{id:"Loader"})},P=function(e){return c.a.createElement(m.g,{id:"Rating"},c.a.createElement(m.h,{transparent:!0,left:c.a.createElement(m.i,{onClick:function(){return window.history.back()}})},c.a.createElement("span",{className:"customText"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433")),c.a.createElement(m.d,{header:c.a.createElement(m.e,{mode:"secondary"})},c.a.createElement(m.c,{style:{display:"flex",marginTop:-30}},c.a.createElement(m.a,{className:"customText",size:"l",stretched:!0,mode:"tertiary",style:{marginRight:8}},"C\u0438\u043d\u0438\u0435"),c.a.createElement(m.a,{className:"customText",size:"l",stretched:!0,mode:"tertiary"},"\u041a\u0440\u0430\u0441\u043d\u044b\u0435"))))},V=a(127),z=a.n(V)()("https://83.220.173.46/message",{transports:["polling","websocket"],methods:["GET","POST"],credentials:!0}),W=function(){var e=Object(n.useState)(0),t=Object(i.a)(e,2),l=t[0],o=t[1],r=Object(n.useState)(0),u=Object(i.a)(r,2),f=u[0],E=u[1],b=Object(n.useState)(),p=Object(i.a)(b,2),g=p[0],h=p[1],k=function(e){z.emit("color",{color:e}),z.emit("score",{score:"all"})};Object(n.useEffect)((function(){z.emit("score",{score:"all"}),z.on("color",(function(e){console.log("color",e)})),z.on("score",(function(e){e.red&&o(e.red),e.blue&&E(e.blue)})),z.on("click",(function(e){console.log(e),"blue"===e.click.color&&(E(e.click.score),h("blue"),z.emit("score",{score:"all"})),"red"===e.click.color&&(o(e.click.score),h("red"),z.emit("score",{score:"all"}))})),s.a.send("VKWebAppGetUserInfo").then((function(e){z.on("connect",(function(t){if(t){var n=a(96).parse(window.location.search),c={};if(Object.keys(n).sort().forEach((function(e){"vk_"===e.slice(0,3)&&(c[e]=n[e])})),"connect"===t.connect){var l={validate:c,user_profile:{id:e.id,lastname:e.last_name,firstname:e.first_name,link:"https://vk.com/id".concat(e.id)}};z.emit("enter",l)}}z.on("disconnect",(function(){}))}))})),window.addEventListener("popstate",(function(){return L()}))}),[]);var S=Object(n.useState)("space_gray"),v=Object(i.a)(S,2),T=v[0],I=(v[1],Object(n.useState)(c.a.createElement(m.k,null))),O=Object(i.a)(I,2),y=O[0],x=O[1],N=Object(n.useState)("Loader"),_=Object(i.a)(N,2),V=_[0],W=_[1],A=Object(n.useState)(["Home"]),K=Object(i.a)(A,2),H=K[0],R=(K[1],function(e){W(e)}),F=function(e){window.history.pushState({panel:e},e),W(e),H.push(e)},L=function(){1===H.length?s.a.send("VKWebAppClose",{status:"success"}):H.length>1&&(H.pop(),W(H[H.length-1]))};return c.a.createElement(d.a,{isWebView:!0,scheme:T},c.a.createElement(m.l,{popout:y,activePanel:V,history:H,onSwipeBack:L},c.a.createElement(C,{id:"Loader",hasSeenIntro:R,setPopoutSpin:x,goToPage:F,goBack:L}),c.a.createElement(B,{id:"Intro",setPopoutSpin:x,selectTeam:k,hasSeenIntro:R,goToPage:F,goBack:L}),c.a.createElement(j,{id:"Home",blueScore:f,redScore:l,goToPage:F,clickButton:function(){z.emit("click",{click:"coordenate"})}}),c.a.createElement(P,{id:"Rating",goToPage:F,goBack:L}),c.a.createElement(w,{id:"Info",colorTeam:g,selectTeam:k,goToPage:F,goBack:L})))};s.a.send("VKWebAppInit"),o.a.render(c.a.createElement(W,null),document.getElementById("root")),s.a.send("VKWebAppSetViewSettings",{status_bar_style:"dark",action_bar_color:"#009ffd",navigation_bar_color:"#464ab8"}),s.a.subscribe((function(e){var t=e.detail;t.type,t.data}),[])},40:function(e,t,a){},70:function(e,t,a){e.exports=a.p+"static/media/icon.e4bd95a5.png"}},[[193,1,2]]]);
//# sourceMappingURL=main.8480f447.chunk.js.map